{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* Page layout */
:root { --accent: #00796b; --accent-dark: #004d40; }
body { margin: 0; font-family: 'Segoe UI',sans-serif; background: linear-gradient(to right,#e0f7fa,#f1f8e9); }

/* Centered card */
.login-box {
  max-width: 420px;
  margin: 60px auto;
  padding: 28px;
  background: rgba(255,255,255,0.92);
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  animation: fadeIn 0.45s ease-in-out;
}

/* Heading */
.login-box h2 {
  text-align: center;
  color: var(--accent);
  margin: 0 0 18px;
  font-size: 22px;
}

/* Form fields */
.form-group { position: relative; margin-bottom: 16px; }
.form-group i {
  position: absolute; left: 12px; top: 50%; transform: translateY(-50%);
  font-size: 15px; color: #888;
}
.form-group input {
  width: 100%;
  padding: 10px 12px 10px 40px;
  border-radius: 8px;
  border: 1px solid #dcdcdc;
  background: #fafafa;
  box-sizing: border-box;
}

/* Button */
button.submit-btn {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background: var(--accent);
  color: white;
  font-size: 15px;
  cursor: pointer;
  transition: transform .15s, background-color .15s;
}
button.submit-btn:hover { background: var(--accent-dark); transform: translateY(-1px); }

/* Errors */
ul.errorlist { list-style: none; padding: 0; margin: 8px 0 14px; }
ul.errorlist li { color:#b00020; background:#fff0f0; padding:8px 10px; border-left:4px solid #c62828; border-radius:4px; margin-bottom:6px; }

/* small screens */
@media (max-width:420px) {
  .login-box { margin: 30px 12px; padding: 20px; }
}

@keyframes fadeIn { from{opacity:0; transform:translateY(8px);} to{opacity:1; transform:none;} }
</style>

<main class="login-box" role="main" aria-labelledby="loginHeading">
  <h2 id="loginHeading"><i class="fas fa-sign-in-alt"></i> Login</h2>

  {% if form.errors %}
    <ul class="errorlist" aria-live="polite">
      {% for field in form %}
        {% for error in field.errors %}
          <li><strong>{{ field.label }}:</strong> {{ error }}</li>
        {% endfor %}
      {% endfor %}
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <form method="post" action="{% url 'login' %}" novalidate>
    {% csrf_token %}
    <div class="form-group">
      <i class="fas fa-user"></i>
      {{ form.username }}
    </div>

    <div class="form-group">
      <i class="fas fa-lock"></i>
      {{ form.password }}
    </div>

    <button type="submit" class="submit-btn"><i class="fas fa-arrow-right-to-bracket"></i> Log In</button>
  </form>

  <p style="text-align:center;margin-top:12px;font-size:14px;">
    Don't have an account? <a href="{% url 'register' %}">Register</a>
  </p>
</main>
{% endblock %}
